<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mt.agent.repository.data.mapper.DataLittleGiantBusinessInfoMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.mt.agent.repository.data.entity.DataLittleGiantBusinessInfo">
        <id column="id" property="id" />
        <result column="district_code" property="districtCode" />
        <result column="city" property="city" />
        <result column="region" property="region" />
        <result column="registered_time" property="registeredTime" />
        <result column="registered_capital" property="registeredCapital" />
        <result column="industry_code" property="industryCode" />
        <result column="market_experience" property="marketExperience" />
        <result column="year" property="year" />
        <result column="employee_num" property="employeeNum" />
        <result column="total_revenue" property="totalRevenue" />
        <result column="main_revenue" property="mainRevenue" />
        <result column="main_revenue_ratio" property="mainRevenueRatio" />
        <result column="preside_international_std" property="presideInternationalStd" />
        <result column="preside_industry_std" property="presideIndustryStd" />
        <result column="participate_std" property="participateStd" />
        <result column="valid_patents" property="validPatents" />
        <result column="sales_expenses" property="salesExpenses" />
        <result column="management_expenses" property="managementExpenses" />
        <result column="main_business_cost" property="mainBusinessCost" />
        <result column="gross_margin_pct" property="grossMarginPct" />
        <result column="revenue_per_capita" property="revenuePerCapita" />
        <result column="export_amount" property="exportAmount" />
        <result column="rd_expense_total" property="rdExpenseTotal" />
        <result column="rd_revenue_ratio" property="rdRevenueRatio" />
        <result column="revenue_growth_rate" property="revenueGrowthRate" />
        <result column="net_profit" property="netProfit" />
        <result column="profit_growth_rate" property="profitGrowthRate" />
    </resultMap>
    <select id="getLastYear" resultType="java.lang.String">
        select year from data_little_giant_business_info order by year desc limit 1
    </select>
    <select id="getRecommendCity" resultType="java.lang.String">
        select city from data_little_giant_business_info order by year desc limit 1
    </select>
    <select id="getRecommendIndustry" resultType="java.lang.String">
        select industry_code from data_little_giant_business_info order by year desc limit 1
    </select>
    <select id="getRecommendEnterprise" resultType="java.lang.String">
        select district_code from data_little_giant_business_info where industry_code = #{industryCode} order by year desc limit 1
    </select>

</mapper>
