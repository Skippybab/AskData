funCode: "2.3"       # 问题编号
temType: A          # 模板类型 A.通用模板 B.个人模版
#某行业的营收增长情况

nodes:
  - nodeId: "n1"              # 节点ID
    nodeType: a             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: true            # 是否为初始节点
    desc: 查询行业今年营收数据
    inputs:                     # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: dc1
      - fieldName: year        # 字段名
        fieldType: String      # 字段类型
        sourceType: 2          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:        # 默认值
      - fieldName: industry
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: city
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: region
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: index
        fieldType: int
        sourceType: 1
        defaultValue: 1
    outputs: #出参列表
      - fieldName: nowData  #字段名
        fieldType: double     #字段类型
    nextNodes: ["n4"]    # 下一节点列表

  - nodeId: "n2"              # 节点ID
    nodeType: a             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: true            # 是否为初始节点
    desc: 查询行业上一年营收数据
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: dc2
      - fieldName: year        # 字段名
        fieldType: String      # 字段类型
        sourceType: 2          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:        # 默认值
      - fieldName: industry
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: city
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: region
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: index
        fieldType: int
        sourceType: 1
        defaultValue: 1
    outputs: #出参列表
      - fieldName: lastData  #字段名
        fieldType: double     #字段类型
    nextNodes: ["n4", "n6"]    # 下一节点列表

  - nodeId: "n3"              # 节点ID
    nodeType: a             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: true            # 是否为初始节点
    desc: 查询行业前年营收数据
    inputs:                     # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: dc4
      - fieldName: year        # 字段名
        fieldType: String      # 字段类型
        sourceType: 2          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:        # 默认值
      - fieldName: industry
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: city
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: region
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: index
        fieldType: int
        sourceType: 1
        defaultValue: 1
    outputs: #出参列表
      - fieldName: data  #字段名
        fieldType: double     #字段类型
    nextNodes: ["n6"]    # 下一节点列表

  - nodeId: "n4"              # 节点ID
    nodeType: b             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 计算行业今年营收增长率
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: cc1
      - fieldName: nowData
        fieldType: Double
        sourceType: 3
        defaultValue:
        valueSource: n1.nowData
      - fieldName: lastData        # 字段名
        fieldType: Double      # 字段类型
        sourceType: 3          # 来源类型 1.默认值 2.共识来源 3.节点来源
        defaultValue:        # 默认值
        valueSource: n2.lastData
    outputs: #出参列表
      - fieldName: growthData  #字段名
        fieldType: double     #字段类型
    nextNodes: [ "n5" ]    # 下一节点列表

  - nodeId: "n5"              # 节点ID
    nodeType: c             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 营收今年增长率可视化
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: vc4
      - fieldName: data        # 字段名
        fieldType: Double      # 字段类型
        sourceType: 3          # 来源类型 1.默认值 2.共识来源 3.节点来源
        defaultValue:        # 默认值
        valueSource: n4.growthData
      - fieldName: unit
        fieldType: string
        sourceType: 1
        defaultValue: "%"
      - fieldName: label
        fieldType: string
        sourceType: 1
        defaultValue: "营收增速"
      - fieldName: year        # 字段名
        fieldType: String      # 字段类型
        sourceType: 2          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:        # 默认值
      - fieldName: yearNum #需要减去的年份
        fieldType: int
        sourceType: 1
        defaultValue: "0"
    nextNodes: []    # 下一节点列表

  - nodeId: "n6"              # 节点ID
    nodeType: b             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 计算行业去年营收增长率
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: cc1
      - fieldName: nowData
        fieldType: Double
        sourceType: 3
        defaultValue:
        valueSource: n2.lastData
      - fieldName: lastData        # 字段名
        fieldType: Double      # 字段类型
        sourceType: 3          # 来源类型 1.默认值 2.共识来源 3.节点来源
        defaultValue:        # 默认值
        valueSource: n3.data
    outputs: #出参列表
      - fieldName: growthData  #字段名
        fieldType: double     #字段类型
    nextNodes: [ "n7" ]    # 下一节点列表

  - nodeId: "n7"              # 节点ID
    nodeType: c             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点    # 是否为初始节点
    desc: 去年的营收增长率可视化
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: vc4
      - fieldName: data        # 字段名
        fieldType: Double      # 字段类型
        sourceType: 3          # 来源类型 1.默认值 2.共识来源 3.节点来源
        defaultValue:        # 默认值
        valueSource: n6.growthData
      - fieldName: unit
        fieldType: string
        sourceType: 1
        defaultValue: "%"
      - fieldName: label
        fieldType: string
        sourceType: 1
        defaultValue: "营收增速"
      - fieldName: year        # 字段名
        fieldType: String      # 字段类型
        sourceType: 2          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:        # 默认值
      - fieldName: yearNum #需要减去的年份
        fieldType: int
        sourceType: 1
        defaultValue: "1"
    nextNodes: []    # 下一节点列表

  - nodeId: "n8"              # 节点ID
    nodeType: a             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: true            # 是否为初始节点
    desc: 查询行业营收趋势数据
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: dc3
      - fieldName: year        # 字段名
        fieldType: String      # 字段类型
        sourceType: 2          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:        # 默认值
      - fieldName: industry
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: city
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: region
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: N
        fieldType: Integer
        sourceType: 1
        defaultValue: 3 #默认3年
      - fieldName: index
        fieldType: int
        sourceType: 1
        defaultValue: 1
    outputs: #出参列表
      - fieldName: trendData  #字段名
        fieldType: list     #字段类型
      - fieldName: xTags  #字段名
        fieldType: list     #字段类型
    nextNodes: [ "n9", "n12" ]    # 下一节点列表

  - nodeId: "n9"              # 节点ID
    nodeType: b             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 计算行业营收增长率趋势
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: cc4
      - fieldName: trendData      # 字段名
        fieldType: List           # 字段类型
        sourceType: 3          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:             # 默认值
        valueSource: n8.trendData
    outputs: #出参列表
      - fieldName: trendData  #字段名
        fieldType: list     #字段类型
    nextNodes: [ "n10", "n12" ]       # 下一节点列表

  - nodeId: "n10"              # 节点ID
    nodeType: b             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 计算行业营收增长率平均值
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: cc5
      - fieldName: dataList      # 字段名
        fieldType: List           # 字段类型
        sourceType: 3          # 来源类型 1.默认值 2.意图来源 3.节点来源
        defaultValue:             # 默认值
        valueSource: n9.trendData
    outputs: #出参列表
      - fieldName: avgData  #字段名
        fieldType: double     #字段类型
    nextNodes: [ "n11" ]      # 下一节点列表

  - nodeId: "n11"             # 节点ID
    nodeType: c             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 营收增长率平均值可视化
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: vc1
      - fieldName: data
        fieldType: Double
        sourceType: 3
        valueSource: n10.avgData
      - fieldName: unit
        fieldType: string
        sourceType: 1
        defaultValue: "%"
      - fieldName: label
        fieldType: string
        sourceType: 1
        defaultValue: 平均营收增速
    nextNodes: []    # 下一节点列表

  - nodeId: "n12"              # 节点ID
    nodeType: c             # 节点类型 a.数据查询节点 b.计算节点 c.可视化节点 d.文本理解节点
    isRoot: false            # 是否为初始节点
    desc: 营收规模与增长率趋势可视化
    inputs: # 入参列表
      - fieldName: classify
        fieldType: int
        sourceType: 1
        defaultValue: vc5
      - fieldName: industry
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: city
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: region
        fieldType: String
        sourceType: 2
        defaultValue:
      - fieldName: index
        fieldType: string
        sourceType: 1
        defaultValue: "营收"
      - fieldName: label
        fieldType: string
        sourceType: 1
        defaultValue: "增长趋势"
      - fieldName: barData
        fieldType: List
        sourceType: 3
        defaultValue:
        valueSource: n8.trendData
      - fieldName: xTags
        fieldType: List
        sourceType: 3
        defaultValue:
        valueSource: n8.xTags
      - fieldName: barUnit
        fieldType: string
        sourceType: 1
        defaultValue: ""
      - fieldName: lineData
        fieldType: List
        sourceType: 3
        defaultValue:
        valueSource: n9.trendData
      - fieldName: lineUnit
        fieldType: string
        sourceType: 1
        defaultValue: "%"
      - fieldName: barLabel
        fieldType: string
        sourceType: 1
        defaultValue: "营收规模"
      - fieldName: lineLabel
        fieldType: string
        sourceType: 1
        defaultValue: "营收增长率"
    nextNodes: []    # 下一节点列表
